# Задание 1 
Вам нужно разделить проект Mesto на несколько микрофронтендов. Самостоятельно решите, какой фреймворк будете использовать, — Module Federation или Single SPA.

https://github.com/Yandex-Practicum/architecture-sprint-1

## Анализ текущей системы 

### Функционал, связанный с карточками

1) Просмотр всех карточек

Отображаются все свои карточки с полной информацией
2) Создание карточки

Задается название карточки и ссылка на картинку.
Есть валидации полей карточки.
3) Удаление карточки

Можно удалить карточку из профиля 
4) Установка и удаление лайка на карточку

Можно нажимать на лайк, тем самым ставя или убирая лайк с карточки, при этом меняется счетчик лайков

#### Что включает в себя карточка
* имя
* картинка
* счетчик лайков

### Функционал, связанный с профилями пользователей
1) Обновление аватарки

При нажатии на аватарку, открывается форма, в которую можно вставить ссылку на новую аватарку и обновить.
2) Просмотр и обновление своего профиля

При нажатии на кнопку редактирования, появляется карточка с данными профиля и возможностью их изменить. 
Есть валидации полей профиля.
#### Что включает в себя профиль
* имя
* род занятий

### Авторизация и регистрация
1) Авторизация по email + пароль
2) Регистрация по email + пароль 

## Проектирование

1. Выбранная стратегия проектирования - **вертикальная нарезка**, потому что у нас есть две сущности, которые могут развиваться совершенно независимо - это профили пользователей и карточки мест. В теории, лайки в будущем тоже могут быть вынесены отдельно - если они будут расширены до некоторой системы оценивания и отзывов  с комментариями. Также у нас есть функционал авторизации /регистрации, который тоже может разиваться независимо: например, будут добавляться авторизации через соц сети.   
2. Выбранный метод интеграции микрофронтендов - **run time**, так как мы хотим развивать функционал разных доменов независимо
3. Выбранный метод композиции микрофронтендов - **гибридный**
4. Выбранный инструмент - **Single SPA**. Он позволяет разворачивать микрофронтенды независимо друг от друга и предоставляет lazy лоадинг для быстрой начальной загрузки
5. На данный момент можно выделить 3 проекта-микрофронтенда (как описано выше, в последствии лайки и возможный механизм отзывов может уйти в 4-й, но пока это не нужно):
* карточки места (cards)
* профили пользователя (profiles)
* авторизация и регистрация (login)

Порядок, в котором я бы выносила микрофронтенды:
* стоит начать с авторизации и регистрации, потому что это вообще совершенно независимая сущность и ее вынос довольно прост, но сразу позволит команде быстрее улучшить пользовательский опыт 
* далее выносим карточки, потому что это основной функционал, самый нагруженный и тот который быстрее и гибче всего требуется развивать
* последним выносим профили 

Предполагаемая финальная структура: 

```
├── cards /                 # Микрофронтенд карточек мест
    ├── src /            
        ├── blocks /            # Сюда из общих блоков выносим: card, places
        ├── components /        # Сюда из общих компонентов выносим: AddPlacePopup, Card, ImagePopup
        ├── images /            # Сюда из общих images выносим: add-icon, close, delete-icon, like-active, like-inactive
        └── utils /             
            ├── api.js              # getCardList, addCard, removeCard, changeLikeCardStatus
            └── auth.js             # Кажется функция проверки токена checkToken понадобится в каждом микрофронтенде, поэтому кладем ее сюда 
    ├── index.js            # Инициализация singleSpaReact
├── profiles /              # Микрофронтенд профилей
     ├── src /            
        ├── blocks /            # Сюда из общих блоков выносим: profile
        ├── components /        # Сюда из общих компонентов выносим: EditAvatarPopup, EditProfilePopup
        ├── images /            # Сюда из общих images выносим: edit-icon
         └── utils /             
            ├── api.js              # getUserInfo, setUserInfo, setUserAvatar
            └── auth.js             # Кажется функция проверки токена checkToken понадобится в каждом микрофронтенде, поэтому кладем ее сюда 
    ├── index.js            # Инициализация singleSpaReact
├── login /                 # Микрофронтенд авторизации и регистрации
     ├── src /            
        ├── blocks /            # Сюда из общих блоков выносим: auth-form, login
        ├── components /        # Сюда из общих компонентов выносим: Login, Register
        └── utils /             # Функции register и login из auth.js
    ├── index.js            # Инициализация singleSpaReact
└── mesto /                   # Корневое приложение
     ├── src /            
        ├── blocks /            # Сюда из общих блоков выносим: content, footer, header, page, popup
        ├── components /        # Сюда из общих компонентов выносим: App, Footer, Header, InfoToolTip, Main, PopupWithForm, ProtectedRoute
        ├── images /            # Сюда из общих images выносим: error-icon, logo, success-icon
    ├── index.js            # Инициализация корневого приложения и прописывание подключений микрофронтендов
```

Меня немного смущает, что я выношу в корневое приложение некоторые переиспользуемые везде компоненты (типо PopupWithForm или InfoToolTop - кажется они должны быть общими для всего приложения, но можно ли так выносить в рекате - я не знаю). 