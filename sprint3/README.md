# Спринт 3

## Задание 1
Диаграммы в проекте начинаются на префикс SmartHome_

Были выделены следующие контейнеры: 
* контейнеры взаимодействия с пользователем (содержат бизнес логику которая ближе всего к пользователю):
  * **API Gateway** - предоставляет собой входную точку в систему для трафика
  * **SettingsService** - сервис настроек девайса. Управляет и возвращает настройки по термпературе / наличию отопления. В случае изменения настроек пользователем, отправляет события, чтобы другой микросервис мог подписаться и установить эти настройки в самом девайсе
  * **SettingsDatabase** - БД для SettingsService
  * **CurrentStateService** - сервис текущего состояния девайсов. Подписывается на события измененения состояния девайсов и сохраняет их в своей БД. Предоставляет поьлзователю информацию о текущем состоянии/истории
  * **CurrentStateDatabase** - БД для CurrentStateService
* контейнеры взаимодействия с девайсами 
  * **DevicesApiIntegration** - фасад для интеграции с API девайсов 
  * **DevicesStateCollector** - воркер, собирающий данные с девайсов и отправляющий события с информацией с датчиков, на которые подписывается **CurrentStateService**
  * **DevicesStateApplier** - сервис ищменения настроек девайсов. Слушает события от **SettingsService**
* контейнеры управления девайсами
  * **UserDevicesService** - сервис управления девайсами пользователя (линковка и отлинковка девайсов)
  * **UserDevicesDatabase** - БД для UserDevicesService

Диаграммы компонентов были нарисованы для: SettingsService, CurrentStateService, DeviceStateCollector. 

В качестве диаграмм кода были нарисованы диаграммы классов для SettingsService, CurrentStateService.

ER диаграмма была нарисована для системы в целом, потому что из-за деления на микросервисы получилось почти что 1 сущность - 1 микросервис, и если рисовать ER диаграмму для одного конкретного сервиса, то на ней было бы 1-2 сущности

Документация Open API была описана для SettingsService, Async API - для SettingsService и DeviceStateApplier

## Задание 2
Микросервисы были реализованы в соответствии с текстом задания (описанные в задании ручки), а не в соответствии со схемами из предыдущего задания, потому что было непонятно - надо следовать заданию или тому что получилось на прошлом этапе 
Микросервисы реализованы, но в случае сервиса управления девайсами не реализована отправка сообщения в Kafka при установке настроекк (только сохраняются в БД). 
Микросервисы разворачиваются через docker-compose

